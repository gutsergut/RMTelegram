# ะะตะทัะปััะฐัั ะดะธะฐะณะฝะพััะธะบะธ com_radicalmart_telegram

## โ ะงัะพ ะธัะฟัะฐะฒะปะตะฝะพ

### 1. ะัะธะฑะบะฐ `strtolower(): Argument #1 ($string) must be of type string, array given`
**ะัะธัะธะฝะฐ**: ะะฐัะฐะผะตัั `apiship_providers` ะผะพะณ ะฑััั ะผะฐััะธะฒะพะผ ะฒะผะตััะพ ัััะพะบะธ
**ะะตัะตะฝะธะต**: ะะพะฑะฐะฒะปะตะฝะฐ ะฟัะพะฒะตัะบะฐ ัะธะฟะฐ ั ะพะฑัะฐะฑะพัะบะพะน ะพะฑะพะธั ัะปััะฐะตะฒ

### 2. ะะพะณะธัะพะฒะฐะฝะธะต Joomla 5
**ะัะฟัะฐะฒะปะตะฝะพ**:
- ะะพะฑะฐะฒะปะตะฝ ะผะตัะพะด `initLogger()` ะดะปั ะธะฝะธัะธะฐะปะธะทะฐัะธะธ
- ะัะฟัะฐะฒะปะตะฝั ะฒัะต ะฒัะทะพะฒั `Log::add()` - ััะตัะธะน ะฟะฐัะฐะผะตัั ะผะฐััะธะฒ `['com_radicalmart_telegram']`

### 3. ะะพะดะบะปััะตะฝะธะต ะบ ะฑะฐะทะต ะดะฐะฝะฝัั
**ะกะพะทะดะฐะฝะพ**: ะกะบัะธะฟัั ะดะปั ะดะธะฐะณะฝะพััะธะบะธ ั ะฟะพะดะบะปััะตะฝะธะตะผ ะบ ัะดะฐะปัะฝะฝะพะผั ัะตัะฒะตัั `94.26.248.21`

## โ ะัะฝะพะฒะฝะฐั ะฟัะพะฑะปะตะผะฐ: API ะบะปัั ApiShip

### ะะตะทัะปััะฐั ะดะธะฐะณะฝะพััะธะบะธ:

```
HTTP Code: 401
Message: ะะตะบะพััะตะบัะฝัะน ะบะปัั ะฑะตะทะพะฟะฐัะฝะพััะธ
```

**ะขะตะบััะธะน API ะบะปัั**: `4446add5...1925` (32 ัะธะผะฒะพะปะฐ)

### ะงัะพ ะฟะพะบะฐะทัะฒะฐะตั ะฑะฐะทะฐ ะดะฐะฝะฝัั:

- โ ะะฑะฝะพะฒะปะตะฝะธะต **ัะฐะฑะพัะฐะตั** - ะทะฐะฟะธััะฒะฐัััั ะผะตัะฐะดะฐะฝะฝัะต
- โ ะะพะปะธัะตััะฒะพ ัะพัะตะบ = **0** ะดะปั ะฒัะตั ะฟัะพะฒะฐะนะดะตัะพะฒ
- โ ะกัััะบัััะฐ ัะฐะฑะปะธั ะฒ ะฟะพััะดะบะต
- โ ะะฐัััะพะนะบะธ ะบะพะผะฟะพะฝะตะฝัะฐ ะบะพััะตะบัะฝั

### ะขะฐะฑะปะธัะฐ ะผะตัะฐะดะฐะฝะฝัั:
```
โโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโ
โ Provider    โ Last Fetch           โ Last Total โ
โโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโค
โ cdek        โ 2025-11-05 15:03:31  โ          0 โ
โ x5          โ 2025-11-05 15:03:32  โ          0 โ
โ yataxi      โ 2025-11-05 15:03:31  โ          0 โ
โโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโ
```

## ๐ง ะงัะพ ะฝัะถะฝะพ ัะดะตะปะฐัั

### 1. ะะพะปััะธัั ะฟัะฐะฒะธะปัะฝัะน API ะบะปัั ApiShip

1. ะะพะนะดะธัะต ะฒ ะปะธัะฝัะน ะบะฐะฑะธะฝะตั ApiShip: https://apiship.ru
2. ะะตัะตะนะดะธัะต ะฒ **ะะฐัััะพะนะบะธ โ API**
3. ะัะพะฒะตัััะต/ัะพะทะดะฐะนัะต ะฝะพะฒัะน API ะบะปัั
4. ะกะบะพะฟะธััะนัะต ะบะปัั

### 2. ะะฑะฝะพะฒะธัั ะฝะฐัััะพะนะบะธ ะบะพะผะฟะพะฝะตะฝัะฐ

1. ะะตัะตะนะดะธัะต ะฒ ะฐะดะผะธะฝะบั Joomla
2. **ะะพะผะฟะพะฝะตะฝัั โ RadicalMart Telegram โ Configuration**
3. ะััะฐะฒััะต ะฝะพะฒัะน API ะบะปัั ะฒ ะฟะพะปะต **ApiShip API Key**
4. ะกะพััะฐะฝะธัะต

### 3. ะะพะฒัะพัะธัั ะพะฑะฝะพะฒะปะตะฝะธะต ะะะ

1. **ะะพะผะฟะพะฝะตะฝัั โ RadicalMart Telegram โ Status**
2. ะะฐะถะผะธัะต **"ะะฑะฝะพะฒะธัั ะฑะฐะทั ะะะ"**
3. ะัะพะฒะตัััะต ัะตะทัะปััะฐั - ะฒ ัะฐะฑะปะธัะต ะดะพะปะถะฝั ะฟะพัะฒะธัััั ัะพัะบะธ

### 4. ะัะพะฒะตัะธัั ะปะพะณะธ

ะคะฐะนะป: `administrator/logs/com_radicalmart_telegram.php`

ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั:
```
[2025-11-05] INFO ApiShip fetch started: providers=yataxi,cdek,x5
[2025-11-05] INFO ApiShip provider 'yataxi': total points = 1234
[2025-11-05] INFO ApiShip provider 'yataxi': fetched 500 points at offset 0
...
[2025-11-05] INFO ApiShip fetch completed: total=5678, providers=yataxi,cdek,x5
```

## ๐ ะะธะฐะณะฝะพััะธัะตัะบะธะต ัะบัะธะฟัั

### ะกะพะทะดะฐะฝะฝัะต ัะบัะธะฟัั ะฒ ะบะพัะฝะต ะฟัะพะตะบัะฐ:

1. **check_apiship_db.php** - ะฟัะพะฒะตัะบะฐ ะดะฐะฝะฝัั ะฒ ะฑะฐะทะต
   ```bash
   php check_apiship_db.php
   ```

2. **debug_apiship.php** - ะดะธะฐะณะฝะพััะธะบะฐ ะฝะฐัััะพะตะบ ะบะพะผะฟะพะฝะตะฝัะฐ
   ```bash
   php debug_apiship.php
   ```

3. **test_apiship_api.php** - ะฟััะผะพะน ัะตัั API ApiShip
   ```bash
   php test_apiship_api.php
   ```

## ๐ฆ ะะฐะบะตั ะดะปั ัััะฐะฝะพะฒะบะธ

**ะคะฐะนะป**: `github\RMTelegram\dist\pkg_radicalmart_telegram-0.1.8.zip`

**ะงัะพ ะฒะบะปััะตะฝะพ**:
- โ ะัะฟัะฐะฒะปะตะฝะฝะพะต ะปะพะณะธัะพะฒะฐะฝะธะต
- โ ะะฑัะฐะฑะพัะบะฐ ะผะฐััะธะฒะฐ/ัััะพะบะธ ะดะปั ะฟัะพะฒะฐะนะดะตัะพะฒ
- โ ะะพะดัะพะฑะฝัะต ะปะพะณะธ ะฟัะพัะตััะฐ ะพะฑะฝะพะฒะปะตะฝะธั
- โ ะัะฟัะฐะฒะปะตะฝะฝัะต SQL-ะทะฐะฟัะพัั

## ๐ ะัะพะฑะปะตะผั ั SSL (ะพะฟัะธะพะฝะฐะปัะฝะพ)

ะัะปะธ ะฒะพะทะฝะธะบะฐัั ะพัะธะฑะบะธ SSL ะฟัะธ ะพะฑัะฐัะตะฝะธะธ ะบ API:
- ะัะพะฒะตัััะต ะฝะฐะปะธัะธะต ะฐะบััะฐะปัะฝัั CA ัะตััะธัะธะบะฐัะพะฒ ะฒ PHP
- ะะฑะฝะพะฒะธัะต `cacert.pem` ะฒ ะดะธัะตะบัะพัะธะธ PHP
- ะะปะธ ะฝะฐัััะพะนัะต `curl.cainfo` ะฒ `php.ini`

**ะะต ัะตะบะพะผะตะฝะดัะตััั ะพัะบะปััะฐัั ะฟัะพะฒะตัะบั SSL ะฒ production!**

## ๐ ะกะปะตะดัััะธะต ัะฐะณะธ

1. โ ะะพะปััะธัั ะฟัะฐะฒะธะปัะฝัะน API ะบะปัั ApiShip
2. โ ะะฑะฝะพะฒะธัั ะฝะฐัััะพะนะบะธ ะฒ Joomla
3. โ ะะฐะฟัััะธัั ะพะฑะฝะพะฒะปะตะฝะธะต ะะะ
4. โ ะัะพะฒะตัะธัั ัะตะทัะปััะฐั ะธ ะปะพะณะธ
5. โ ะกะพะพะฑัะธัั ัะตะทัะปััะฐั
