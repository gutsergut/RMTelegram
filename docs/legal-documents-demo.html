<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–µ–º–æ: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            max-width: 900px;
            margin: 40px auto;
            padding: 0 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
            border-bottom: 3px solid #1c7cd6;
            padding-bottom: 10px;
        }
        .field-group {
            margin: 25px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 6px;
            border-left: 4px solid #1c7cd6;
        }
        .field-label {
            font-weight: 600;
            color: #555;
            margin-bottom: 8px;
        }
        .field-description {
            font-size: 13px;
            color: #666;
            margin-bottom: 12px;
        }
        .select-button {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            background: #1c7cd6;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.2s;
        }
        .select-button:hover {
            background: #1565c0;
        }
        .selected-article {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 12px;
            background: #e3f2fd;
            border: 1px solid #90caf9;
            border-radius: 4px;
            margin-top: 8px;
        }
        .clear-btn {
            color: #d32f2f;
            cursor: pointer;
            font-weight: bold;
        }
        .info-box {
            background: #fff3cd;
            border: 1px solid #ffc107;
            border-radius: 6px;
            padding: 15px;
            margin: 20px 0;
        }
        .info-box h3 {
            margin-top: 0;
            color: #856404;
        }
        .code {
            background: #f5f5f5;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
            font-size: 13px;
        }
        .url-output {
            background: #e8f5e9;
            border: 1px solid #4caf50;
            border-radius: 4px;
            padding: 12px;
            margin-top: 15px;
            font-family: monospace;
            word-break: break-all;
        }
        .icon {
            font-size: 18px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏: –Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã</h1>

        <div class="info-box">
            <h3>üìã –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç</h3>
            <p>
                1. –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∞—Ç—å—é Joomla —Å —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–º<br>
                2. –°–∏—Å—Ç–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω–∏—Ç <span class="code">ID —Å—Ç–∞—Ç—å–∏</span> –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞<br>
                3. –ü—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ —Å–æ–≥–ª–∞—Å–∏—è –±–æ—Ç —Å—Ñ–æ—Ä–º–∏—Ä—É–µ—Ç <strong>–∫–æ—Ä–æ—Ç–∫—É—é SEF-—Å—Å—ã–ª–∫—É</strong> —á–µ—Ä–µ–∑ Router<br>
                4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç —Å—Å—ã–ª–∫—É –≤–∏–¥–∞: <span class="code">https://cacao.land/consent</span>
            </p>
        </div>

        <div class="field-group">
            <div class="field-label">
                üìÑ –ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏
            </div>
            <div class="field-description">
                –°—Ç–∞—Ç—å—è —Å —Ç–µ–∫—Å—Ç–æ–º –ü–æ–ª–∏—Ç–∏–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
                –°—Å—ã–ª–∫–∞ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –≤ –±–æ—Ç–µ –ø—Ä–∏ –∑–∞–ø—Ä–æ—Å–µ —Å–æ–≥–ª–∞—Å–∏—è.
            </div>
            <button class="select-button" onclick="selectArticle('privacy')">
                <span class="icon">üìÇ</span> Select Article
            </button>
            <div id="selected-privacy"></div>
        </div>

        <div class="field-group">
            <div class="field-label">
                ‚úÖ –°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ü–î
            </div>
            <div class="field-description">
                –°—Ç–∞—Ç—å—è —Å —Ç–µ–∫—Å—Ç–æ–º –°–æ–≥–ª–∞—Å–∏—è –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
                –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–µ—Ä–µ–¥ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π. <strong>–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –§–ó-152!</strong>
            </div>
            <button class="select-button" onclick="selectArticle('consent')">
                <span class="icon">üìÇ</span> Select Article
            </button>
            <div id="selected-consent"></div>
        </div>

        <div class="field-group">
            <div class="field-label">
                üìú –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ
            </div>
            <div class="field-description">
                –°—Ç–∞—Ç—å—è —Å –£—Å–ª–æ–≤–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (–ø—É–±–ª–∏—á–Ω–∞—è –æ—Ñ–µ—Ä—Ç–∞).
                –°—Å—ã–ª–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–∞.
            </div>
            <button class="select-button" onclick="selectArticle('terms')">
                <span class="icon">üìÇ</span> Select Article
            </button>
            <div id="selected-terms"></div>
        </div>

        <div class="field-group">
            <div class="field-label">
                üìß –°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ —Ä–∞—Å—Å—ã–ª–∫–∏
            </div>
            <div class="field-description">
                –°—Ç–∞—Ç—å—è —Å —Å–æ–≥–ª–∞—Å–∏–µ–º –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤.
                –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–¥–ø–∏—Å–∫–µ –Ω–∞ —Ä–∞—Å—Å—ã–ª–∫–∏. <strong>–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –¥–ª—è –§–ó-38!</strong>
            </div>
            <button class="select-button" onclick="selectArticle('marketing')">
                <span class="icon">üìÇ</span> Select Article
            </button>
            <div id="selected-marketing"></div>
        </div>

        <div class="info-box" style="background: #e8f5e9; border-color: #4caf50;">
            <h3>üîó –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ URL —á–µ—Ä–µ–∑ Router</h3>
            <p><strong>PHP –∫–æ–¥ (ConsentHelper.php):</strong></p>
            <pre style="background: #f5f5f5; padding: 12px; border-radius: 4px; overflow-x: auto;"><code>$articleId = (int) $params->get('article_consent_personal_data', 0);

// –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ—Ä–æ—Ç–∫–æ–π —Å—Å—ã–ª–∫–∏ —á–µ—Ä–µ–∑ Router Joomla
$url = Route::link(
    'site',
    'index.php?option=com_content&view=article&id=' . $articleId,
    false,
    Route::TLS_IGNORE,
    true
);

// –†–µ–∑—É–ª—å—Ç–∞—Ç: https://cacao.land/consent (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—É–Ω–∫—Ç –º–µ–Ω—é)</code></pre>
        </div>

        <div id="url-demo"></div>
    </div>

    <script>
        // –î–µ–º–æ: –∏–º–∏—Ç–∞—Ü–∏—è –≤—ã–±–æ—Ä–∞ —Å—Ç–∞—Ç—å–∏
        const articles = {
            privacy: { id: 123, title: '–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏', alias: 'privacy' },
            consent: { id: 124, title: '–°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö', alias: 'consent' },
            terms: { id: 125, title: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ', alias: 'terms' },
            marketing: { id: 126, title: '–°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞—Å—Å—ã–ª–æ–∫', alias: 'consent-marketing' }
        };

        function selectArticle(type) {
            const article = articles[type];
            const container = document.getElementById(`selected-${type}`);

            container.innerHTML = `
                <div class="selected-article">
                    <span>‚úì ${article.title} (ID: ${article.id})</span>
                    <span class="clear-btn" onclick="clearArticle('${type}')">√ó</span>
                </div>
            `;

            updateUrlDemo();
        }

        function clearArticle(type) {
            document.getElementById(`selected-${type}`).innerHTML = '';
            updateUrlDemo();
        }

        function updateUrlDemo() {
            const consent = articles.consent;
            const demoDiv = document.getElementById('url-demo');

            demoDiv.innerHTML = `
                <div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 6px;">
                    <h3 style="margin-top: 0;">ü§ñ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –±–æ—Ç–µ</h3>
                    <p><strong>–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç /start –±–µ–∑ —Å–æ–≥–ª–∞—Å–∏—è:</strong></p>
                    <div style="background: white; border: 1px solid #ddd; border-radius: 4px; padding: 15px; margin: 10px 0;">
                        <div style="color: #666; font-size: 12px; margin-bottom: 8px;">@CacaoLandBot:</div>
                        <div>
                            –î–ª—è –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–∞—Ç—å
                            <a href="https://cacao.land/${consent.alias}" target="_blank">—Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</a>.
                        </div>
                        <div style="margin-top: 12px;">
                            <button style="background: #1c7cd6; color: white; border: none; padding: 10px 20px; border-radius: 4px; cursor: pointer;">
                                ‚úÖ –°–æ–≥–ª–∞—Å–µ–Ω –∏ –æ–∑–Ω–∞–∫–æ–º–ª–µ–Ω
                            </button>
                        </div>
                    </div>
                    <div class="url-output">
                        <strong>–°—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π URL:</strong><br>
                        https://cacao.land/${consent.alias}
                        <br><br>
                        <small style="color: #666;">
                            üí° SEF-URL —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ Router::link() –Ω–∞ –æ—Å–Ω–æ–≤–µ ID —Å—Ç–∞—Ç—å–∏ (${consent.id})
                        </small>
                    </div>
                </div>
            `;
        }

        // –ü–æ–∫–∞–∑–∞—Ç—å –¥–µ–º–æ —Å—Ä–∞–∑—É
        selectArticle('consent');
    </script>
</body>
</html>
